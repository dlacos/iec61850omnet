#
# Usage:
#    make -f makemakefiles
# or, for Microsoft Visual C++:
#    nmake -f makemakefiles MMOPT=-n
#

MAKEMAKE=opp_makemake $(MMOPT)

INETMANET_2_0_INTEGRATION_PROJ=../inetmanet-2.0-integration

all:
	cd src && $(MAKEMAKE) -KINETMANET_2_0_INTEGRATION_PROJ=$(INETMANET_2_0_INTEGRATION_PROJ) -f --deep -I../../inetmanet-2.0-integration/src/transport/contract -I../../inetmanet-2.0-integration/src/wpan/networklayer/contract -I../../inetmanet-2.0-integration/src/networklayer/icmpv6 -I../../inetmanet-2.0-integration/src/transport/udp -I../../inetmanet-2.0-integration/src/linklayer/common -I../../inetmanet-2.0-integration/src/util -I../../inetmanet-2.0-integration/src/wpan/phyLayer/ieee802154 -I../../inetmanet-2.0-integration/src/util/headerserializers/udp -I../../inetmanet-2.0-integration/src/mobility/models -I../../inetmanet-2.0-integration/src/world/powercontrol -I../../inetmanet-2.0-integration/src/networklayer/contract -I../../inetmanet-2.0-integration/src/networklayer/xmipv6 -I../../inetmanet-2.0-integration/src/networklayer/common -I../../inetmanet-2.0-integration/src/linklayer/radio -I../../inetmanet-2.0-integration/src/networklayer/ipv6tunneling -I../../inetmanet-2.0-integration/src/networklayer/manetrouting/base -I../../inetmanet-2.0-integration/src/wpan/linklayer/ieee802154/mac -I../../inetmanet-2.0-integration/src/linklayer/contract -I../../inetmanet-2.0-integration/src/linklayer/ieee80211mesh/locator -I../../inetmanet-2.0-integration/src/networklayer/ipv6 -I../../inetmanet-2.0-integration/src/linklayer/ethernet -I../../inetmanet-2.0-integration/src/networklayer/arp -I../../inetmanet-2.0-integration/src/linklayer/radio/propagation -I../../inetmanet-2.0-integration/src/battery/models -I../../inetmanet-2.0-integration/src/util/headerserializers/sctp -I../../inetmanet-2.0-integration/src/world/obstacles -I../../inetmanet-2.0-integration/src/util/headerserializers/ipv4 -I../../inetmanet-2.0-integration/src/mobility -I../../inetmanet-2.0-integration/src -I../../inetmanet-2.0-integration/src/linklayer/ieee80211/mac -I../../inetmanet-2.0-integration/src/networklayer/ipv4 -I../../inetmanet-2.0-integration/src/base -I../../inetmanet-2.0-integration/src/linklayer/ieee80211/radio -I../../inetmanet-2.0-integration/src/applications/pingapp -I../../inetmanet-2.0-integration/src/linklayer/ieee80211/mgmt -I../../inetmanet-2.0-integration/src/wpan/linklayer/ieee802154/contract -I../../inetmanet-2.0-integration/src/util/headerserializers/tcp -I../../inetmanet-2.0-integration/src/world/radio -I../../inetmanet-2.0-integration/src/transport/sctp -I../../inetmanet-2.0-integration/src/linklayer/ieee80211/radio/errormodel -I../../inetmanet-2.0-integration/src/util/headerserializers -I../../inetmanet-2.0-integration/src/transport/tcp_common -I../../inetmanet-2.0-integration/src/applications/tcpapp -I../../inetmanet-2.0-integration/src/linklayer/ethernet/switch -I../../inetmanet-2.0-integration/src/linklayer/rstp -L../../inetmanet-2.0-integration/out/$(CONFIGNAME)/src -linet -DINET_IMPORT -KINETMANET_2_0_INTEGRATION_PROJ=../../inetmanet-2.0-integration
	$(MAKEMAKE) -KINETMANET_2_0_INTEGRATION_PROJ=$(INETMANET_2_0_INTEGRATION_PROJ) -f --deep --nolink -O out -d src -d simulations -X. -L../inetmanet-2.0-integration/out/$(CONFIGNAME)/src -linet -DINET_IMPORT -KINETMANET_2_0_INTEGRATION_PROJ=../inetmanet-2.0-integration
	cd simulations && $(MAKEMAKE) -KINETMANET_2_0_INTEGRATION_PROJ=$(INETMANET_2_0_INTEGRATION_PROJ) -f --deep -O out -L../../inetmanet-2.0-integration/out/$(CONFIGNAME)/src -linet -DINET_IMPORT -KINETMANET_2_0_INTEGRATION_PROJ=../../inetmanet-2.0-integration
